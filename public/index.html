<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat App</title>
</head>
<body>
    <h1>Welcome to the Chat App</h1>

    <input type="text" id="messageInput" placeholder="Type your message here...">
    <button id="sendMessageButton">Send</button>

    <div id="messagesContainer"></div>

    <!-- this line is super important when youâ€™re using Socket.IO for real-time communication -->
    <script src="/socket.io/socket.io.js"></script>
    <script>
        const socket = io();    // this creates the new socket connection
        // you can now use the socket variable to send and receive messages

        const sendBtn = document.getElementById('sendMessageButton');
        const messageInput = document.getElementById('messageInput');

        // Listening for messages from the server
        socket.on('Server-message', (message) => {
            const messagesContainer = document.getElementById('messagesContainer');
            const messageElement = document.createElement('p');
            messageElement.textContent = message;
            messagesContainer.appendChild(messageElement);
        });

        sendBtn.addEventListener('click', () => {
            const message = messageInput.value;
            // console.log('Sending message:', message);

            socket.emit('User-message', message);  // sending a message to the server
            messageInput.value = ''; // clear the input field after sending
        });

    </script>
</body>
</html>